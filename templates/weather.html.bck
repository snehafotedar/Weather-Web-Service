<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script language="javascript">
    var xmlhttp;
    function init() {
       xmlhttp = new XMLHttpRequest();
    }
    function getdetails() {
   	 var userdate = document.getElementById("userdate");
	 alert(userdate)
         var url = "http://ec2-52-41-156-167.us-west-2.compute.amazonaws.com:5000/historical/" + userdate.value;
         xmlhttp.open('GET',url,true);
	 xmlhttp.setRequestHeader("Content-type", "application/json");
         xmlhttp.send(null);
	 xmlhttp.onreadystatechange = function() {
	 if (xmlhttp.readyState == 4) {
		if ( xmlhttp.status == 200) {
		 	document.getElementById("results").innerHTML = xmlhttp.responseText;
		 	var r = xmlhttp.responseTEXT;
		 	alert(r);	
		 	alert(xmlhttp.readyState);
		 	alert(xmlhttp.status);
	     }
 	   }		
      };
//	 var response = JSON.parse(xmlhttp.responseTEXT);
//	 alert(response);
         //xmlhttp.onreadystatechange = function() {
         //       if (xmlhttp.readyState == 4) {
         //          if ( xmlhttp.status == 200) {
         //               var det = eval( "(" +  xmlhttp.responseText + ")");
         //               if (det.age > 0 ) {
      		//	   empname.value = det.name;
                 //          age.value = det.age;
                    //    }
                      //  else {
                        //     empname.value = "";
                          //   age.value ="";
                            // alert("Invalid Employee ID");
                     //   }
                 //  }
                 //  else
                   //     alert("Error ->" + xmlhttp.responseText);
              //  }
         //  };
	}
     </script>
     </head>
     <body  onload="init()">
       <div class="container" style="color:black">
       	<h1>ReSTful Weather service </h1>
       	<label for="weather">Enter user date:</label>
       	<input type="number" id="userdate" size="10" placeholder="Enter date"/>
	<br/>
	<br/> 	 
	<input type="button" value="Get Details" onclick="getdetails()"/>
        </br>
        <input type="text" readonly="true" id="results" size="20"/>
      </body>
    </html>

